<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¯å•åˆ†æå·¥å…·</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }
    
    .app-container {
      display: flex;
      height: 100vh;
    }
    
    /* å·¦ä¾§å¯¼èˆª */
    .sidebar {
      width: 200px;
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      padding: 20px 0;
      display: flex;
      flex-direction: column;
    }
    
    .logo {
      text-align: center;
      padding: 20px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 20px;
    }
    
    .logo h1 {
      font-size: 18px;
      font-weight: 600;
      color: #fff;
    }
    
    .logo p {
      font-size: 12px;
      color: rgba(255,255,255,0.5);
      margin-top: 5px;
    }
    
    .nav-item {
      padding: 12px 20px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
      color: rgba(255,255,255,0.7);
      font-size: 14px;
    }
    
    .nav-item:hover {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }
    
    .nav-item.active {
      background: rgba(79, 172, 254, 0.2);
      color: #4facfe;
      border-left: 3px solid #4facfe;
    }
    
    .nav-item .icon {
      font-size: 16px;
    }
    
    /* å³ä¾§å†…å®¹åŒº */
    .main-content {
      flex: 1;
      overflow-y: auto;
      padding: 30px;
    }
    
    .page {
      display: none;
    }
    
    .page.active {
      display: block;
    }
    
    .page-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 20px;
      color: #1a1a2e;
    }
    
    /* å¡ç‰‡æ ·å¼ */
    .card {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .card-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #1a1a2e;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    /* å¯¼å…¥é¡µé¢ */
    .import-area {
      border: 2px dashed #ddd;
      border-radius: 12px;
      padding: 60px 40px;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .import-area:hover {
      border-color: #4facfe;
      background: rgba(79, 172, 254, 0.05);
    }
    
    .import-area .icon {
      font-size: 48px;
      margin-bottom: 15px;
    }
    
    .import-area h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }
    
    .import-area p {
      color: #888;
      font-size: 14px;
    }
    
    .user-phone-input {
      margin-top: 20px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    .user-phone-input label {
      display: block;
      font-size: 14px;
      margin-bottom: 8px;
      color: #666;
    }
    
    .user-phone-input input {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
    }
    
    .user-phone-input input:focus {
      outline: none;
      border-color: #4facfe;
    }
    
    /* ç»Ÿè®¡å¡ç‰‡ */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    
    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 20px;
      color: #fff;
    }
    
    .stat-card.green {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    }
    
    .stat-card.orange {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    .stat-card.blue {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }
    
    .stat-card .value {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 5px;
    }
    
    .stat-card .label {
      font-size: 14px;
      opacity: 0.8;
    }
    
    /* è¡¨æ ¼ */
    .table-container {
      overflow-x: auto;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    
    th {
      background: #f8f9fa;
      font-weight: 600;
      color: #666;
      font-size: 13px;
    }
    
    td {
      font-size: 14px;
    }
    
    tr:hover td {
      background: #f8f9fa;
    }
    
    /* å›¾è¡¨åŒºåŸŸ */
    .chart-container {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .chart-box {
      flex: 1;
      min-width: 300px;
    }
    
    .chart-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #333;
    }
    
    /* å°æ—¶åˆ†å¸ƒæ¡å½¢å›¾ */
    .hour-bars {
      display: flex;
      align-items: flex-end;
      height: 150px;
      gap: 3px;
      padding: 10px 0;
    }
    
    .hour-bar {
      flex: 1;
      background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 3px 3px 0 0;
      min-height: 2px;
      position: relative;
      transition: all 0.3s;
    }
    
    .hour-bar:hover {
      opacity: 0.8;
    }
    
    .hour-bar .tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.2s;
    }
    
    .hour-bar:hover .tooltip {
      opacity: 1;
    }
    
    .hour-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 11px;
      color: #888;
    }
    
    /* æ˜ŸæœŸåˆ†å¸ƒ */
    .week-bars {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    .week-item {
      flex: 1;
      text-align: center;
    }
    
    .week-bar {
      height: 100px;
      background: #eee;
      border-radius: 6px;
      position: relative;
      overflow: hidden;
    }
    
    .week-bar .fill {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
      border-radius: 6px;
      transition: height 0.3s;
    }
    
    .week-item .day {
      margin-top: 8px;
      font-size: 12px;
      color: #666;
    }
    
    .week-item .count {
      font-size: 11px;
      color: #888;
    }
    
    /* è¿›åº¦æ¡ */
    .progress-container {
      margin-top: 15px;
    }
    
    .progress-item {
      margin-bottom: 15px;
    }
    
    .progress-label {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      margin-bottom: 5px;
    }
    
    .progress-bar {
      height: 8px;
      background: #eee;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }
    
    .progress-fill.blue { background: linear-gradient(90deg, #4facfe, #00f2fe); }
    .progress-fill.green { background: linear-gradient(90deg, #11998e, #38ef7d); }
    .progress-fill.purple { background: linear-gradient(90deg, #667eea, #764ba2); }
    .progress-fill.orange { background: linear-gradient(90deg, #f093fb, #f5576c); }
    
    /* æŒ‰é’® */
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: #fff;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
    }
    
    .btn-secondary {
      background: #f0f0f0;
      color: #666;
    }
    
    .btn-secondary:hover {
      background: #e0e0e0;
    }
    
    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    
    /* è®¾ç½®é¡µé¢ */
    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      border-bottom: 1px solid #eee;
    }
    
    .setting-item:last-child {
      border-bottom: none;
    }
    
    .setting-info h4 {
      font-size: 14px;
      margin-bottom: 5px;
    }
    
    .setting-info p {
      font-size: 12px;
      color: #888;
    }
    
    .toggle-switch {
      width: 50px;
      height: 26px;
      background: #ddd;
      border-radius: 13px;
      position: relative;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .toggle-switch.active {
      background: #4facfe;
    }
    
    .toggle-switch::after {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      background: #fff;
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: transform 0.3s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .toggle-switch.active::after {
      transform: translateX(24px);
    }
    
    /* é€šçŸ¥åŒºåŸŸ */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 8px;
      color: #fff;
      font-size: 14px;
      z-index: 1000;
      animation: slideIn 0.3s ease;
    }
    
    .notification.success { background: linear-gradient(135deg, #11998e, #38ef7d); }
    .notification.error { background: linear-gradient(135deg, #f093fb, #f5576c); }
    .notification.info { background: linear-gradient(135deg, #4facfe, #00f2fe); }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    /* ç©ºçŠ¶æ€ */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #888;
    }
    
    .empty-state .icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.5;
    }
    
    /* æ–‡ä»¶åˆ—è¡¨ */
    .file-list {
      margin-top: 20px;
    }
    
    .file-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      background: #f8f9fa;
      border-radius: 6px;
      margin-bottom: 8px;
    }
    
    .file-item .name {
      font-size: 13px;
      color: #333;
    }
    
    .file-item .size {
      font-size: 12px;
      color: #888;
    }
    
    /* æ ‡ç­¾é¡µ */
    .tabs {
      display: flex;
      gap: 0;
      border-bottom: 2px solid #eee;
      margin-bottom: 20px;
    }
    
    .tab {
      padding: 12px 24px;
      cursor: pointer;
      font-size: 14px;
      color: #666;
      border-bottom: 2px solid transparent;
      margin-bottom: -2px;
      transition: all 0.3s;
    }
    
    .tab:hover {
      color: #4facfe;
    }
    
    .tab.active {
      color: #4facfe;
      border-bottom-color: #4facfe;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* å“åº”å¼ */
    @media (max-width: 768px) {
      .sidebar {
        width: 60px;
      }
      
      .sidebar .logo h1,
      .sidebar .nav-item span {
        display: none;
      }
      
      .sidebar .nav-item {
        justify-content: center;
        padding: 15px;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- å·¦ä¾§å¯¼èˆª -->
    <nav class="sidebar">
      <div class="logo">
        <h1>ğŸ“± è¯å•åˆ†æ</h1>
        <p>Call Analyzer</p>
      </div>
      <div class="nav-item active" data-page="import">
        <span class="icon">ğŸ“‚</span>
        <span>å¯¼å…¥æ•°æ®</span>
      </div>
      <div class="nav-item" data-page="statistics">
        <span class="icon">ğŸ“Š</span>
        <span>é€šè¯ç»Ÿè®¡</span>
      </div>
      <div class="nav-item" data-page="contacts">
        <span class="icon">ğŸ‘¥</span>
        <span>è”ç³»äººåˆ†æ</span>
      </div>
      <div class="nav-item" data-page="time">
        <span class="icon">â°</span>
        <span>æ—¶é—´åˆ†æ</span>
      </div>
      <div class="nav-item" data-page="settings">
        <span class="icon">âš™ï¸</span>
        <span>è®¾ç½®</span>
      </div>
    </nav>
    
    <!-- å³ä¾§å†…å®¹åŒº -->
    <main class="main-content">
      <!-- å¯¼å…¥é¡µé¢ -->
      <div class="page active" id="page-import">
        <h2 class="page-title">å¯¼å…¥è¯å•</h2>
        
        <div class="card">
          <div class="card-title">ğŸ“ é€‰æ‹©è¯å•æ–‡ä»¶</div>
          
          <div class="import-area" onclick="selectFiles()">
            <div class="icon">ğŸ“‚</div>
            <h3>ç‚¹å‡»é€‰æ‹©è¯å•æ–‡ä»¶</h3>
            <p>æ”¯æŒæ‰¹é‡é€‰æ‹©å¤šä¸ª CSV æ–‡ä»¶</p>
            <p style="margin-top: 10px; color: #4facfe;">æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</p>
          </div>
          
          <div class="file-list" id="fileList"></div>
          
          <div class="user-phone-input">
            <label>ğŸ“± æˆ‘çš„æ‰‹æœºå·ç ï¼ˆç”¨äºè¿‡æ»¤è‡ªå·±çš„å·ç ï¼‰</label>
            <input type="text" id="userPhone" placeholder="ä¾‹å¦‚: 13800138000" onchange="setUserPhone()">
          </div>
          
          <div class="btn-group">
            <button class="btn btn-primary" onclick="startAnalysis()">
              ğŸš€ å¼€å§‹åˆ†æ
            </button>
            <button class="btn btn-secondary" onclick="clearData()">
              ğŸ—‘ï¸ æ¸…é™¤æ•°æ®
            </button>
          </div>
        </div>
      </div>
      
      <!-- ç»Ÿè®¡é¡µé¢ -->
      <div class="page" id="page-statistics">
        <h2 class="page-title">ğŸ“Š é€šè¯ç»Ÿè®¡</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="value" id="statTotalCalls">-</div>
            <div class="label">æ€»é€šè¯æ¬¡æ•°</div>
          </div>
          <div class="stat-card green">
            <div class="value" id="statTotalDuration">-</div>
            <div class="label">æ€»é€šè¯æ—¶é•¿</div>
          </div>
          <div class="stat-card orange">
            <div class="value" id="statAvgDuration">-</div>
            <div class="label">å¹³å‡å•æ¬¡æ—¶é•¿</div>
          </div>
          <div class="stat-card blue">
            <div class="value" id="statContacts">-</div>
            <div class="label">è”ç³»äººæ•°</div>
          </div>
        </div>
        
        <div class="card" style="margin-top: 20px;">
          <div class="card-title">ğŸ“ˆ ä¸»å«/è¢«å«åˆ†å¸ƒ</div>
          <div class="progress-container">
            <div class="progress-item">
              <div class="progress-label">
                <span>ğŸ“´ ä¸»å«ï¼ˆæ‰“å‡ºï¼‰</span>
                <span id="outgoingCount">0 æ¬¡</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill blue" id="outgoingBar" style="width: 0%"></div>
              </div>
            </div>
            <div class="progress-item">
              <div class="progress-label">
                <span>ğŸ“² è¢«å«ï¼ˆæ¥å¬ï¼‰</span>
                <span id="incomingCount">0 æ¬¡</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill green" id="incomingBar" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- è”ç³»äººé¡µé¢ -->
      <div class="page" id="page-contacts">
        <h2 class="page-title">ğŸ‘¥ è”ç³»äººåˆ†æ</h2>
        
        <div class="tabs">
          <div class="tab active" data-tab="frequency">é€šè¯é¢‘æ¬¡</div>
          <div class="tab" data-tab="strangers">é™Œç”Ÿäººè¯†åˆ«</div>
          <div class="tab" data-tab="frequent">é«˜é¢‘è”ç³»äºº</div>
        </div>
        
        <div class="tab-content active" id="tab-frequency">
          <div class="card">
            <div class="card-title">ğŸ”¥ TOP 10 é€šè¯é¢‘æ¬¡</div>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>æ’å</th>
                    <th>å·ç </th>
                    <th>é€šè¯æ¬¡æ•°</th>
                    <th>æ€»æ—¶é•¿</th>
                    <th>æœ€åé€šè¯</th>
                  </tr>
                </thead>
                <tbody id="frequencyTable">
                  <tr>
                    <td colspan="5" style="text-align: center; color: #888;">æš‚æ— æ•°æ®</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-strangers">
          <div class="card">
            <div class="card-title">ğŸ‘¤ é™Œç”Ÿäººè¯†åˆ«</div>
            <p style="color: #888; font-size: 14px; margin-bottom: 15px;">
              ä»… 1 æ¬¡é€šè¯ï¼Œä¸”é€šè¯æ—¶é—´å°äº 10 ç§’çš„å·ç 
            </p>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>å·ç </th>
                    <th>é€šè¯æ—¶é—´</th>
                    <th>æ—¥æœŸ</th>
                  </tr>
                </thead>
                <tbody id="strangerTable">
                  <tr>
                    <td colspan="3" style="text-align: center; color: #888;">æš‚æ— æ•°æ®</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="tab-content" id="tab-frequent">
          <div class="card">
            <div class="card-title">â­ é«˜é¢‘è”ç³»äºº</div>
            <p style="color: #888; font-size: 14px; margin-bottom: 15px;">
              é€šè¯æ¬¡æ•°å¤§äº 20 æ¬¡çš„è”ç³»äºº
            </p>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>å·ç </th>
                    <th>é€šè¯æ¬¡æ•°</th>
                    <th>æ€»æ—¶é•¿</th>
                  </tr>
                </thead>
                <tbody id="frequentTable">
                  <tr>
                    <td colspan="3" style="text-align: center; color: #888;">æš‚æ— æ•°æ®</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      
      <!-- æ—¶é—´åˆ†æé¡µé¢ -->
      <div class="page" id="page-time">
        <h2 class="page-title">â° æ—¶é—´åˆ†æ</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="value" id="peakHours">-</div>
            <div class="label">é€šè¯é«˜å³°æ—¶æ®µ</div>
          </div>
          <div class="stat-card green">
            <div class="value" id="peakDay">-</div>
            <div class="label">é€šè¯é«˜å³°æ—¥</div>
          </div>
          <div class="stat-card orange">
            <div class="value" id="nightCalls">-</div>
            <div class="label">ç†¬å¤œé€šè¯æ¬¡æ•°</div>
          </div>
          <div class="stat-card blue">
            <div class="value" id="nightRate">-</div>
            <div class="label">ç†¬å¤œé€šè¯å æ¯”</div>
          </div>
        </div>
        
        <div class="card" style="margin-top: 20px;">
          <div class="card-title">ğŸ“Š æŒ‰å°æ—¶åˆ†å¸ƒ</div>
          <div class="chart-box">
            <div class="hour-bars" id="hourBars">
              <!-- JS ç”Ÿæˆ -->
            </div>
            <div class="hour-labels">
              <span>00:00</span>
              <span>06:00</span>
              <span>12:00</span>
              <span>18:00</span>
              <span>23:00</span>
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-title">ğŸ“… æŒ‰æ˜ŸæœŸåˆ†å¸ƒ</div>
          <div class="week-bars" id="weekBars">
            <!-- JS ç”Ÿæˆ -->
          </div>
        </div>
      </div>
      
      <!-- è®¾ç½®é¡µé¢ -->
      <div class="page" id="page-settings">
        <h2 class="page-title">âš™ï¸ è®¾ç½®</h2>
        
        <div class="card">
          <div class="card-title">ğŸ”” é€šçŸ¥è®¾ç½®</div>
          
          <div class="setting-item">
            <div class="setting-info">
              <h4>åˆ†æå®Œæˆé€šçŸ¥</h4>
              <p>è¯å•åˆ†æå®Œæˆåå‘é€ç³»ç»Ÿé€šçŸ¥</p>
            </div>
            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
          </div>
          
          <div class="setting-item">
            <div class="setting-info">
              <h4>é™Œç”Ÿäººé¢„è­¦</h4>
              <p>å‘ç°æ–°é™Œç”Ÿäººæ—¶å‘é€é€šçŸ¥</p>
            </div>
            <div class="toggle-switch" onclick="toggleSetting(this)"></div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-title">ğŸ“ æ•°æ®è®¾ç½®</div>
          
          <div class="setting-item">
            <div class="setting-info">
              <h4>è‡ªåŠ¨ä¿å­˜è¯å•</h4>
              <p>è‡ªåŠ¨ä¿å­˜å·²åˆ†æçš„è¯å•æ–‡ä»¶</p>
            </div>
            <div class="toggle-switch active" onclick="toggleSetting(this)"></div>
          </div>
          
          <div class="setting-item">
            <div class="setting-info">
              <h4>å¯¼å‡ºæ ¼å¼</h4>
              <p>é€‰æ‹©åˆ†ææŠ¥å‘Šå¯¼å‡ºæ ¼å¼</p>
            </div>
            <select style="padding: 8px 12px; border-radius: 6px; border: 1px solid #ddd;">
              <option value="markdown">Markdown</option>
              <option value="json">JSON</option>
              <option value="html">HTML</option>
            </select>
          </div>
        </div>
        
        <div class="card">
          <div class="card-title">â„¹ï¸ å…³äº</div>
          <p style="color: #666; font-size: 14px;">
            è¯å•åˆ†æå·¥å…· v1.0.0<br>
            æ”¯æŒä¸­å›½ç§»åŠ¨è¯å•æ ¼å¼<br>
            <a href="https://github.com/lty888/call-analyzer" target="_blank" style="color: #4facfe;">GitHub é¡¹ç›®åœ°å€</a>
          </p>
        </div>
      </div>
    </main>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
